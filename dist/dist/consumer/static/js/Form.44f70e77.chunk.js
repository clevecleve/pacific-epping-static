"use strict";(self.webpackChunkconsumer=self.webpackChunkconsumer||[]).push([[1637,4370],{11501:(e,t,l)=>{l.d(t,{A:()=>o});var i=l(69499),s=l(61995);class a extends i.Component{constructor(){super(...arguments),this.setMargin=()=>("standard"===this.props.margin?this.margin="standard-margin":"small"===this.props.margin?this.margin="small-margin":"custom"===this.props.margin?this.margin="custom-margin":"campaign"===this.props.margin?this.margin="campaign-margin":this.margin="",this.margin)}render(){return(0,s.jsx)("div",{className:`base-component ${this.setMargin()} ${this.props.className}`,children:this.props.children})}}const o=a},19367:(e,t,l)=>{l.d(t,{RM:()=>i,Xo:()=>s,ag:()=>o,sK:()=>a,wo:()=>r});const i={show:"{AAE07A52-46A4-49EF-98B0-C2595BAC2382}",hide:"{7F58C8DD-D7C0-4FB7-BB44-8EC6B5E1C3D9}",enable:"{5744A87E-E32C-42CC-862F-96842A0202BB}",disable:"{C698C993-549E-486A-A09C-BB8D830DA958}"},s={is_equal_To:"{1D38B217-A2EE-4E7B-B6ED-13E751462FEB}",is_not_equal_to:"{49F47E77-E8C5-46F9-BF39-78D6B0D40B48}",contains:"{BF8935A6-1976-43A0-ABA5-D0BC128A76EA}",does_not_contain:"{45AAB0FB-775B-40F5-B3B8-7CAE3ABBF643}",starts_with:"{FD10F291-3C2E-4AE7-8A67-2F8271CB3DF2}",does_not_start_with:"{6B92597D-F2E0-47D3-A40D-59AFB37EEDE5}",ends_with:"{D375ED5B-E156-4A2B-9F91-DFD5B03F0D78}",does_not_end_with:"{F3AC7A1A-3458-4385-BB65-860315313DB3}",is_greater_than:"{61FF63A0-375C-47BD-9986-1F81BD12BBBB}",is_greater_than_or_equal_to:"{062C6ED9-EA6E-4A88-AE54-C88E2147971D}",is_less_than:"{8FE41E53-AD87-4D24-B50F-EA0F6BDF739F}",is_less_than_or_equal_to:"{88AC1C6B-BAFE-40A7-BB75-E304C8EC29DD}"},a={RECAPTCHA:"{E383BDE2-BC88-4278-83EF-832A15C9E94A}"},o={"{47B8C5AF-35F8-4900-B8F2-D28C3A8C93CE}":"email","{AFF394C1-E5F8-4265-9D4D-ECBC8CB4AC36}":"name","{72A820CA-E0EF-4180-8E96-0293268F3E66}":"phone"},r={email:"^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$",name:"^[_A-z0-9 ]*((-|\\s)*[_A-z0-9 ])*$",phone:"^[0-9 +()-]+$",postcode:"^(?=.{3,10}$)[A-Za-z0-9 ]+$"}},31143:(e,t,l)=>{function i(e,t){if(e)for(;(e=e.parentElement)&&!e.classList.contains(t););return e}l.r(t),l.d(t,{default:()=>i})},86326:(e,t,l)=>{l.r(t),l.d(t,{default:()=>L});var i=l(99570),s=l(69499),a=l(97756),o=l(35852),r=l(11501),n=l(77925),d=l.n(n),c=(l(92563),l(80042)),m=l(75178),h=l(33590),u=l.n(h),p=l(19367);const f=(e,t,l,i)=>{const s={[p.Xo.contains]:()=>RegExp(`${t}`,"g").test(l),[p.Xo.does_not_contain]:()=>!RegExp(`${t}`,"g").test(l),[p.Xo.starts_with]:()=>t.startsWith(l),[p.Xo.does_not_start_with]:()=>!t.startsWith(l),[p.Xo.ends_with]:()=>t.endsWith(l),[p.Xo.does_not_end_with]:()=>!t.endsWith(l),[p.Xo.is_equal_To]:()=>{let e;if(i){e=RegExp(`${t}`,"g").test(l)}else e=t===l;return e},[p.Xo.is_not_equal_to]:()=>{let e;if(i){e=!RegExp(`${t}`,"g").test(l)}else e=t!==l;return e},[p.Xo.is_greater_than]:()=>t>l,[p.Xo.is_greater_than_or_equal_to]:()=>t>=l,[p.Xo.is_less_than]:()=>t<l,[p.Xo.is_less_than_or_equal_to]:()=>t<=l};return"undefined"!==typeof s[e]&&s[e]()},y=(e,t,l)=>{let i;for(let r=0;r<t.conditions.length;r+=1){const s=t.conditions[r].value.toString().toLowerCase(),a=t.conditions[r].operatorId,o=e.toString().toLowerCase();if(i=f(a,s,o,l),i)break}let s=i;return a=t.actions[0].actionTypeId,o=s,{[p.RM.show]:()=>!o,[p.RM.hide]:()=>o,[p.RM.enable]:()=>!o,[p.RM.disable]:()=>o}[a]();var a,o},g=(e,t)=>{var l;document.createEvent?((l=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),l.eventName=t,e.dispatchEvent(l)):((l=document.createEventObject()).eventName=t,l.eventType=t,e.fireEvent("on"+l.eventType,l))},v=(e,t,l)=>{setTimeout(()=>{let i;for(let s=0;s<t.length;s+=1){i=y(e,t[s],l);let a=t[s].actions;for(let e=0;e<a.length;e+=1){let t=a[e].fieldId,l=document.querySelector('[data-fieldkey = "'+t+'"]'),s="",o="";if(l)if(i)if(l.classList.add("is-hidden"),l.classList.remove("is-invalid"),l.classList.remove("is-to-validate"),s=l.querySelector("fieldset"),s)o=s.querySelectorAll(".form-group"),o&&o.length>0&&Array.prototype.slice.call(o).map((e,t)=>{if(e.classList.add("is-hidden"),e.classList.remove("is-invalid"),e.classList.remove("is-to-validate"),/form-single-line/g.test(e.className)){let t=e.querySelector("input");t&&(t.value=null,g(t,"change"))}if(/form-date/g.test(e.className)){let t=e.querySelector(".react-datepicker-wrapper input");t&&(t.value=null,g(t,"change"))}if(/form-textarea/g.test(e.className)){let t=e.querySelector("textarea");t&&(t.value=null,g(t,"change"))}if(/form-checkbox-only/g.test(e.className)){let t=e.querySelector("input");t&&t.checked&&t.click()}if(/form-checkboxlist/g.test(e.className)){let t=e.querySelectorAll("input");Array.prototype.slice.call(t).map((e,t)=>{e&&e.checked&&e.click()})}if(/form-radiobutton/g.test(e.className)){let t=e.querySelectorAll("input");Array.prototype.slice.call(t).map((e,t)=>{"null"===e.value&&e.click()})}if(/form-dropdown/g.test(e.className)){const t=e.querySelector(".hidden-option");t&&t.click()}if(/form-listbox/g.test(e.className)){const t=e.querySelector("select");t.value=null,g(t,"change")}});else{if(/form-single-line/g.test(l.className)){let e=l.querySelector("input");e&&(e.value=null,g(e,"change"))}if(/form-date/g.test(l.className)){let e=l.querySelector(".react-datepicker-wrapper input");e&&(e.value=null,g(e,"change"))}if(/form-textarea/g.test(l.className)){let e=l.querySelector("textarea");e&&(e.value=null,g(e,"change"))}if(/form-checkbox-only/g.test(l.className)){let e=l.querySelector("input");e&&e.checked&&e.click()}if(/form-checkboxlist/g.test(l.className)){let e=l.querySelectorAll("input");Array.prototype.slice.call(e).map((e,t)=>{e&&e.checked&&e.click()})}if(/form-radiobutton/g.test(l.className)){let e=l.querySelectorAll("input");Array.prototype.slice.call(e).map((e,t)=>{"null"===e.value&&e.click()})}if(/form-dropdown/g.test(l.className)){const e=l.querySelector(".hidden-option");e&&e.click()}if(/form-listbox/g.test(l.className)){const e=l.querySelector("select");e.value=null,g(e,"change")}}else if(l.classList.remove("is-hidden"),l.classList.add("is-to-validate"),s=l.querySelector("fieldset"),s)o=s.querySelectorAll(".form-group"),o&&o.length>0&&Array.prototype.slice.call(o).map((e,t)=>{if(e.classList.remove("is-hidden"),e.classList.add("is-to-validate"),/form-checkbox-only/g.test(e.className)){let t=e.querySelector(".hyperlink-container label"),l=e.querySelector("label"),i=t.clientHeight;l.style.height=i+"px"}if(/form-checkboxlist/g.test(e.className)){let t,l=e.querySelector(".hyperlink-container");l&&(t=l.querySelectorAll("label")),t&&Array.prototype.slice.call(t).map((t,l)=>{let i=t.clientHeight;e.querySelectorAll("label")[l+1].style.maxHeight=i+"px"})}});else{if(/form-checkbox-only/g.test(l.className)){let e=l.querySelector(".hyperlink-container label"),t=l.querySelector("label"),i=e.clientHeight;t.style.height=i+"px"}if(/form-checkboxlist/g.test(l.className)){let e,t=l.querySelector(".hyperlink-container");t&&(e=t.querySelectorAll("label")),e&&Array.prototype.slice.call(e).map((e,t)=>{let i=e.clientHeight;l.querySelectorAll("label")[t+1].style.maxHeight=i+"px"})}}}}return i},250)};var q=l(31143),x=l(61995);class S extends s.Component{constructor(e){super(e),this.componentDidMount=()=>{if(setTimeout(()=>{this.setState({load:!0})},1500),document){const{field:e}=this.props;if(e.model.fieldTypeItemId===i.FieldTypes.Button){const e=document.getElementsByClassName("custom-form")[0].querySelectorAll(".form-group.form-single-line"),t=document.getElementsByClassName("custom-form")[0].querySelectorAll(".form-group.form-textarea"),l=document.getElementsByClassName("custom-form")[0].querySelectorAll(".form-group.form-date"),i=document.getElementsByClassName("custom-form")[0].querySelectorAll("span"),s=document.getElementsByClassName("custom-form")[0].querySelectorAll("p"),a=document.getElementsByClassName("custom-form")[0].querySelectorAll("h1"),o=document.getElementsByClassName("custom-form")[0].querySelectorAll("h2"),r=document.getElementsByClassName("custom-form")[0].querySelectorAll("h3"),n=document.getElementsByClassName("custom-form")[0].querySelectorAll("h4"),d=document.getElementsByClassName("custom-form")[0].querySelectorAll("h5"),c=document.getElementsByClassName("custom-form")[0].querySelectorAll("h6"),m=document.getElementsByClassName("custom-form")[0].querySelectorAll(".has-hyperlink"),h=document.getElementsByClassName("custom-form")[0].querySelectorAll(".form-checkboxlist"),u=document.getElementsByClassName("custom-form")[0].querySelectorAll(".form-listbox");e&&Array.prototype.slice.call(e).map((e,t)=>{const l=e.querySelector("input");"email"===l.type&&(l.type="text"),this.addEvent(l,"focus",this.handleOnInputFocus),this.addEvent(l,"blur",this.handleOnInputBlur,!0),this.addEvent(l,"keyup",this.handleOnInputChange),this.addEvent(l,"change",this.handleOnInputChange)}),l&&Array.prototype.slice.call(l).map((e,t)=>{const l=e.querySelector("input");this.addEvent(l,"change",this.handleConditionOnChangeDate)}),t&&Array.prototype.slice.call(t).map((e,t)=>{const l=e.querySelector("textarea");this.addEvent(l,"blur",this.handleOnInputBlur,!0),this.addEvent(l,"keyup",this.handleOnInputChange),this.addEvent(l,"change",this.handleOnInputChange)}),u&&Array.prototype.slice.call(u).map((e,t)=>{const l=e.querySelector("select");this.addEvent(l,"change",this.handleOnChangeListbox)}),m&&Array.prototype.slice.call(m).map((e,t)=>{let l=e.querySelector(".hyperlink-container").querySelectorAll("label");if(l){if(this.formUpdateHyperlink(l),/form-checkbox-only/g.test(e.className)){let t=e.querySelector("input");this.addEvent(t,"click",this.handleClickCheckbox);let l=e.querySelector(".hyperlink-container");setTimeout(()=>{let t=l.querySelector("label").clientHeight,i=l.textContent,s=e.querySelector(".form-control-validation");e.querySelector("label").style.height=t+"px",s&&(s.innerHTML=i+" is required.")},250)}if(/form-radiobutton/g.test(e.className)){let t=e.querySelectorAll("input");for(var i=0;i<t.length;i++)this.addEvent(t[i],"click",this.handleClickRadio);if(/form-required/g.test(e.className)){let t=e.querySelectorAll("label");t[(t.length-1)/2].classList.add("hide-label")}setTimeout(()=>{let t=e.querySelector("label").clientHeight,l=e.querySelector(".hyperlink-container");e.querySelector("label").style.height=t+"px",l.style.top=t+26+"px"},500)}}}),h&&Array.prototype.slice.call(h).map((e,t)=>{let l,i=e.querySelector("label"),s=e.querySelector(".hyperlink-container");if(s&&(l=s.querySelectorAll("label")),i)if(""==i.innerHTML.trim()){let t=e.querySelector(".form-control-validation");e.classList.add("no-title"),i.classList.add("hide-label"),t.innerHTML="Field is required. Please select atleast one of the choices."}else if(s){let e=i.clientHeight+24;s.style.top=e+"px"}l&&Array.prototype.slice.call(l).map((t,l)=>{let i=t.clientHeight;e.querySelectorAll("label")[l+1].style.maxHeight=i+"px"})}),i&&this.formUpdateHyperlink(i),s&&this.formUpdateHyperlink(s),a&&this.formUpdateHyperlink(a),o&&this.formUpdateHyperlink(o),r&&this.formUpdateHyperlink(r),n&&this.formUpdateHyperlink(n),d&&this.formUpdateHyperlink(d),c&&this.formUpdateHyperlink(c)}this.handleConditionalLogic(e)}window.addEventListener("resize",this.handleRadioStyle)},this.handleRadioStyle=()=>{const e=document.getElementsByClassName("custom-form")[0].querySelectorAll(".has-hyperlink");e&&Array.prototype.slice.call(e).map((e,t)=>{if(e.querySelector(".hyperlink-container").querySelectorAll("label")&&/form-radiobutton/g.test(e.className)){let t,l=e.querySelector("label"),i=e.querySelector(".hyperlink-container");l.style.height="auto",t=l.clientHeight,l.style.height=t+"px",i.style.top=t+26+"px"}})},this.addEvent=(e,t,l,i)=>{e.addEventListener?e.addEventListener(t,l,i):e.attachEvent&&e.attachEvent("on"+t,l)},this.removeEvent=(e,t,l,i)=>{e.removeEventListener&&e.removeEventListener(t,l,i)},this.triggerEvent=(e,t)=>{var l;document.createEvent?((l=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),l.eventName=t,e.dispatchEvent(l)):((l=document.createEventObject()).eventName=t,l.eventType=t,e.fireEvent("on"+l.eventType,l))},this.handleConditionalLogic=e=>{if(e){let i=[];if(e.model&&(i=e.model.conditionSettings.fieldConditions),i.length>0){let s=e.model.conditionSettings.fieldKey,a=document.querySelector('[data-fieldkey = "'+s+'"]');if(a)if(/form-single-line/g.test(a.className)){let e=a.querySelector("input").value;v(e,i)}else if(/form-date/g.test(a.className)){let e=a.querySelector("input").value;v(e,i)}else if(/form-textarea/g.test(a.className)){let e=a.querySelector("textarea").value;v(e,i)}else if(/form-dropdown/g.test(a.className)){let e=a.querySelector(".dropdown-btn").value;v(e,i)}else if(/form-checkbox-only/g.test(a.className)){let e=a.querySelector("input"),t=e.checked;this.addEvent(e,"click",this.handleClickCheckbox),v(t,i)}else if(/form-radiobutton/g.test(a.className)){let e=a.querySelectorAll("input");for(var t="",l=0;l<e.length;l++)e[l].checked&&(t=e[l].value),this.addEvent(e[l],"click",this.handleClickRadio);v(t,i)}else if(/form-listbox/g.test(a.className)){let e=a.querySelector("select");v(e.value,i)}}}},this.formUpdateHyperlink=e=>{Array.prototype.slice.call(e).map((e,t)=>{if(!e.querySelector("a")){let t=e.innerHTML;if(/\/a&gt;/g.test(t))for(;/\/a&gt;/g.test(t);)t=t.replace("&lt;a","<a"),t=t.replace("&gt;",">"),t=t.replace("&lt;/a&gt;","</a>"),e.innerHTML=t}})},this.handleOnInputFocus=e=>{e.target.parentElement.classList.add("input-focus")},this.handleOnInputBlur=e=>{const t=e.target;t.value?t.parentElement.classList.add("input-focus"):t.parentElement.classList.remove("input-focus")},this.handleOnInputChange=e=>{let t=e.target,l=t.value,i=(0,q.default)(t,"form-required"),s=(0,q.default)(t,"form-single-line");s||(s=(0,q.default)(t,"form-textarea")),i&&(/is-hidden/g.test(i.className)||l?(i.classList.remove("is-invalid"),i.classList.remove("is-to-validate")):9!=e.keyCode&&16!=e.keyCode&&(i.classList.add("is-invalid"),i.classList.add("is-to-validate")));let a=s.getAttribute("data-fieldcondition");if(a){let e=JSON.parse(a);e.length>0&&v(t.value,e)}},this.handleToggle=e=>{e.target.focus(),this.setState({showDroplist:!this.state.showDroplist})},this.handleBlur=e=>{this.state.showDroplist&&setTimeout(()=>{this.setState({showDroplist:!this.state.showDroplist})},250)},this.onChangeSelection=e=>{let t=e.target;const l=(0,q.default)(t,"form-dropdown");"i"===t.tagName.toLowerCase()&&(t=t.parentElement),this.setState({selectValue:t.textContent});for(var i=[],s=t.parentNode.firstChild;s;)s!==t&&s.nodeType===Node.ELEMENT_NODE&&i.push(s),s=s.nextElementSibling||s.nextSibling;i.map((e,t)=>{e.classList.remove("active")}),t.classList.add("active");const a=l.querySelector("select");a.value=t.getAttribute("value"),this.triggerEvent(a,"change"),this.formValidate(l);let o=l.getAttribute("data-fieldcondition");if(o){let e=JSON.parse(o);e.length>0&&v(t.textContent,e)}},this.handleOnChangeDate=(e,t)=>{let l=(0,q.default)(t.target,"form-date");const i=l.querySelector('input[type="date"]');if(!c(e)._isValid)return i.setAttribute("value",null),this.triggerEvent(i,"change"),this.setState({startDate:e}),/is-hidden/g.test(l.className)||(l.classList.add("is-invalid"),l.classList.add("is-to-validate")),!1;let s=("0"+(e.getMonth()+1)).slice(-2),a=("0"+e.getDate()).slice(-2);const o=e.getFullYear()+"-"+s+"-"+a;this.setState({startDate:e}),/is-hidden/g.test(l.className),l.classList.remove("is-invalid"),l.classList.remove("is-to-validate"),i.setAttribute("value",o),this.triggerEvent(i,"change")},this.handleConditionOnChangeDate=e=>{let t=e.target;let l=(0,q.default)(t,"form-date").getAttribute("data-fieldcondition");if(l){let e=JSON.parse(l);e.length>0&&v(t.value,e)}},this.handleOnClickCalendar=e=>{e.target.nextElementSibling.querySelector("input").click()},this.handleClickCheckbox=e=>{let t=e.target,l=t.checked;const i=(0,q.default)(t,"form-checkbox-only");let s=i.getAttribute("data-fieldcondition");if(this.formCheckboxValidate(i),s){let e=JSON.parse(s);e.length>0&&v(l,e)}},this.handleClickRadio=e=>{let t=e.target;const l=(0,q.default)(t,"form-radiobutton");let i=l.getAttribute("data-fieldcondition");if(this.formCheckboxValidate(l),i){let e=JSON.parse(i);e.length>0&&t.checked&&v(t.value,e)}},this.handleOnChangeListbox=e=>{let t=e.target;const l=(0,q.default)(t,"form-listbox");let i=t.querySelectorAll("option");this.formValidate(l);let s=l.getAttribute("data-fieldcondition");if(s){let e=JSON.parse(s);if(e.length>0){let t=[];for(var a=0;a<i.length;a++)i[a].selected&&t.push(i[a].value);v(t.toString(),e,!0)}}},this.recaptchaLoaded=()=>{this.setState({recaptchaLoaded:!0})},this.recaptchaExpired=()=>{document.querySelector(".form-recaptcha").querySelector('input[type="hidden"].fxt-captcha').value="",this.setState({verifiedRecaptcha:!1,expiredRecaptcha:!0})},this.recaptchaVerifyResponse=e=>{if(e){let t=document.querySelector(".custom-form form");t.querySelector('input[type="hidden"].fxt-captcha').value=e,this.setState({verifiedRecaptcha:!0,expiredRecaptcha:!1,captchaValue:e}),t.querySelector("form button.customform-submit-btn").removeAttribute("disabled")}else this.setState({verifiedRecaptcha:!1})},this.formValidate=e=>{if(e.length>0)Array.prototype.slice.call(e).map((e,t)=>{let l;const i=e.querySelector("input"),s=e.querySelector("select"),a=e.querySelector("textarea");if(s){l=s;let e=(0,q.default)(s,"form-required");e&&(/is-hidden/g.test(e.className)||(s.value?(e.classList.remove("is-invalid"),e.classList.remove("is-to-validate")):(e.classList.add("is-invalid"),e.classList.add("is-to-validate"))))}else if(i){let e=(0,q.default)(i,"form-date");l=e?e.querySelector(".react-datepicker-wrapper input"):i;let t=(0,q.default)(i,"form-required");t&&(/is-hidden/g.test(t.className)||(i.value?(t.classList.remove("is-invalid"),t.classList.remove("is-to-validate")):(t.classList.add("is-invalid"),t.classList.add("is-to-validate"))))}else a&&(l=a);l.value||(l.value=null),this.triggerEvent(l,"change")});else if(e&&0!==e.length){const t=e.querySelector("select");if(t){let e=(0,q.default)(t,"form-required");e&&(/is-hidden/g.test(e.className)||(t.value?(e.classList.remove("is-invalid"),e.classList.remove("is-to-validate")):(e.classList.add("is-invalid"),e.classList.add("is-to-validate"))))}}},this.formCheckboxValidate=e=>{if(e.length>0)Array.prototype.slice.call(e).map((e,t)=>{let l=e.querySelectorAll("input");const i=e;if(i.classList.add("no-check"),l.length>1){if(Array.prototype.slice.call(l).map((e,t)=>{e.checked&&i.classList.remove("no-check")}),/form-required/g.test(e.className)&&!/is-hidden/g.test(e.className)){let t=!1,i=!1;Array.prototype.slice.call(l).map((e,l)=>{e.checked&&(t=!0,""!==e.value&&"null"!==e.value||(i=!0))}),t&&!i?(e.classList.remove("is-invalid"),e.classList.remove("is-to-validate")):(e.classList.add("is-invalid"),e.classList.add("is-to-validate"))}}else l=e.querySelector("input"),l.checked&&i.classList.remove("no-check"),/form-required/g.test(i.className)&&(/is-hidden/g.test(i.className)||(l.checked?(i.classList.remove("is-invalid"),i.classList.remove("is-to-validate")):(i.classList.add("is-invalid"),i.classList.add("is-to-validate"))))});else if(e){let t=e.querySelectorAll("input");if(/form-required/g.test(e.className)&&!/is-hidden/g.test(e.className)){let l=!1,i=!1;t.length>0&&Array.prototype.slice.call(t).map((e,t)=>{e.checked&&(l=!0,""!==e.value&&"null"!==e.value||(i=!0))}),l&&!i?(e.classList.remove("is-invalid"),e.classList.remove("is-to-validate")):(e.classList.add("is-invalid"),e.classList.add("is-to-validate"))}}},this.handleSubmit=e=>{const t=(0,q.default)(e.target,"custom-form"),l=t.querySelector("form"),i=t.querySelectorAll(".form-group.form-single-line"),s=t.querySelectorAll(".form-group.form-date"),a=t.querySelectorAll(".form-group.form-checkbox"),o=t.querySelectorAll(".form-group.form-radiobutton"),r=t.querySelectorAll(".form-group.form-textarea"),n=t.querySelectorAll(".form-group.form-dropdown"),d=t.querySelectorAll(".form-group.form-listbox"),c=t.querySelector(".form-recaptcha"),m=l.querySelector("button.customform-submit-btn");m&&u().dataLayer({dataLayer:{customFormSubmitBtnId:m.id},dataLayerName:"dataLayer"}),a.length>0&&this.formCheckboxValidate(a),o.length>0&&this.formCheckboxValidate(o);const h=t.querySelectorAll(".form-group.is-Required.no-check"),p=t.querySelectorAll(".form-group.form-required");if(c||p.length>0){let e,a=t.querySelectorAll(".form-group.form-required.is-invalid"),o=t.querySelectorAll(".form-group.form-required.is-to-validate");c&&(e=/\bverifiedRecaptcha\b/g.test(c.className),e||c.classList.add("is-required")),c&&e&&0===a.length&&0===o.length||h.length>0||0===a.length&&0===o.length?this.triggerEvent(l,"submit"):(i.length>0&&this.formValidate(i),s.length>0&&this.formValidate(s),r.length>0&&this.formValidate(r),n.length>0&&this.formValidate(n),d.length>0&&this.formValidate(d))}else this.triggerEvent(l,"submit");m.setAttribute("disabled",""),setTimeout(()=>{l.querySelector(".custom-form-button")||(t.scrollIntoView(),u().dataLayer({dataLayer:{event:"customFormSubmit"},dataLayerName:"dataLayer"}))},5e3)},this.state={value:"",showDroplist:!1,selectValue:null,startDate:null,verifiedRecaptcha:!1,expiredRecaptcha:!1,load:!1,recaptchaLoaded:!1,captchaValue:""}}render(){const{field:e}=this.props,{verifiedRecaptcha:t,expiredRecaptcha:l,load:s}=this.state;let a,o,r,n;if(e.model.fieldTypeItemId!==i.FieldTypes.TextField)if(o=e.model.conditionSettings.fieldKey,r=e.model.conditionSettings.fieldConditions,n=JSON.stringify(r),e.model.fieldTypeItemId===i.FieldTypes.SingleLineText||e.model.fieldTypeItemId===i.FieldTypes.NumberField||e.model.fieldTypeItemId===i.FieldTypes.Telephone||e.model.fieldTypeItemId===i.FieldTypes.Email||e.model.fieldTypeItemId===i.FieldTypes.Password){let t=!1;/required/g.test(e.model.cssClass)&&(t=!0),a=(0,x.jsxs)("div",{className:"form-group form-single-line "+(t?"form-required is-to-validate":""),"data-fieldkey":o,"data-fieldcondition":n,children:[this.props.children,t&&(0,x.jsx)("div",{className:"form-control-validation-required",children:(0,x.jsxs)("span",{children:[(0,x.jsx)("i",{className:"icon icon-danger",children:"!"}),(0,x.jsxs)("label",{children:[e.model.title?e.model.title:e.model.name," is required"]})]})})]})}else if(e.model.fieldTypeItemId===i.FieldTypes.DateField){o=e.model.conditionSettings.fieldKey,r=e.model.conditionSettings.fieldConditions,n=JSON.stringify(r);const t=new Date("1500-01-01T00:00:00Z"),l=c().add(5,"years")._d,i=c()._d.getFullYear()-1500,s=e.model.min?new Date(e.model.min):t,m=e.model.max?new Date(e.model.max):l,h=e.model.value?new Date(e.model.value):null;let u=!1;/required/g.test(e.model.cssClass)&&(u=!0),a=(0,x.jsxs)("div",{className:"form-group form-date "+(u?"form-required is-to-validate":""),"data-fieldkey":o,"data-fieldcondition":n,children:[this.props.children,u&&(0,x.jsx)("div",{className:"form-control-validation-required",children:(0,x.jsx)("span",{children:(0,x.jsxs)("label",{children:[e.model.title?e.model.title:e.model.name," is required"]})})}),(0,x.jsx)("i",{className:"icon icon-calendar",onClick:this.handleOnClickCalendar}),(0,x.jsx)(d(),{selected:this.state.startDate?this.state.startDate:h,onChange:this.handleOnChangeDate,dateFormat:"dd/MM/yyyy",placeholderText:"DD/MM/YYYY",minDate:s,maxDate:m,dateFormatCalendar:"MMMM",showMonthDropdown:!0,showYearDropdown:!0,useWeekdaysShort:!0,yearDropdownItemNumber:i})]})}else if(e.model.fieldTypeItemId===i.FieldTypes.Checkbox){o=e.model.conditionSettings.fieldKey,r=e.model.conditionSettings.fieldConditions,n=JSON.stringify(r);let t=(0,x.jsx)("label",{htmlFor:e.valueField.id,children:e.model.title}),l=!1;/required/g.test(e.model.cssClass)&&(l=!0),a=(0,x.jsxs)("div",{className:"form-group form-checkbox form-checkbox-only has-hyperlink "+(e.model.required?"is-Required ":"")+(l?"form-required is-to-validate ":""),"data-fieldkey":o,"data-fieldcondition":n,children:[this.props.children,(0,x.jsx)("div",{className:"hyperlink-container",children:t})]})}else if(e.model.fieldTypeItemId===i.FieldTypes.CheckboxList){o=e.model.conditionSettings.fieldKey,r=e.model.conditionSettings.fieldConditions,n=JSON.stringify(r);let t=e.model.items.map((t,l)=>(0,x.jsx)("label",{htmlFor:e.valueField.id+l,children:t.text},t.text+l)),l=!1;/required/g.test(e.model.cssClass)&&(l=!0),a=(0,x.jsxs)("div",{className:"form-group form-checkbox form-checkboxlist has-hyperlink "+(e.model.required?"is-Required ":"")+(l?"form-required is-to-validate ":""),"data-fieldkey":o,"data-fieldcondition":n,children:[this.props.children,(0,x.jsx)("div",{className:"hyperlink-container",children:t})]})}else if(e.model.fieldTypeItemId===i.FieldTypes.RadioButtonList){o=e.model.conditionSettings.fieldKey,r=e.model.conditionSettings.fieldConditions,n=JSON.stringify(r);let t=!1,l=e.model.items.map((l,i)=>(l&&"null"===l.value&&(t=!0),(0,x.jsx)("label",{htmlFor:e.valueField.id+i,children:l.text},l.text+i))),i=!1;/required/g.test(e.model.cssClass)&&(i=!0),a=(0,x.jsxs)("div",{className:"form-group form-radiobutton has-hyperlink "+(e.model.required?"is-Required ":"")+(i?"form-required is-to-validate ":"")+(t?"has-null-value":"")+(e.model.title?"":"no-label"),"data-fieldkey":o,"data-fieldcondition":n,children:[this.props.children,i&&(0,x.jsxs)("div",{className:"form-control-validation-required",children:[e.model.title?e.model.title:e.model.name," is required"]}),(0,x.jsx)("div",{className:"hyperlink-container",children:l})]})}else if(e.model.fieldTypeItemId===i.FieldTypes.MultipleLineText){o=e.model.conditionSettings.fieldKey;let t=!1;/required/g.test(e.model.cssClass)&&(t=!0),a=(0,x.jsxs)("div",{className:"form-group form-textarea "+(t?"form-required is-to-validate":""),"data-fieldkey":o,"data-fieldcondition":n,children:[this.props.children,t&&(0,x.jsx)("div",{className:"form-control-validation-required",children:(0,x.jsxs)("span",{children:[(0,x.jsx)("i",{className:"icon icon-danger",children:"!"}),(0,x.jsxs)("label",{children:[e.model.title?e.model.title:e.model.name," is required"]})]})})]})}else if(e.model.fieldTypeItemId===i.FieldTypes.DropdownList){o=e.model.conditionSettings.fieldKey,r=e.model.conditionSettings.fieldConditions,n=JSON.stringify(r);const{field:t=null}=this.props||{};let l="";e.model.items&&e.model.items.map((e,t)=>{!0===e.selected&&(l=e.text)});let i=!1;/required/g.test(e.model.cssClass)&&(i=!0),a=(0,x.jsxs)("div",{className:"form-group form-dropdown "+(i?"form-required is-to-validate":""),"data-fieldkey":o,"data-fieldcondition":n,children:[this.props.children,i&&(0,x.jsx)("div",{className:"form-control-validation-required",children:(0,x.jsx)("span",{children:(0,x.jsxs)("label",{children:[e.model.title?e.model.title:e.model.name," is required"]})})}),(0,x.jsx)("div",{className:"form-group custom-dropdown",children:(0,x.jsxs)("div",{className:"dropdown-container",children:[(0,x.jsxs)("div",{className:"dropdown-label "+(this.state.showDroplist?"active":""),onClick:this.handleToggle,onBlur:this.handleBlur,tabIndex:"0",children:[(0,x.jsxs)("div",{className:"dropdown-placeholder "+(l?"has-default-value ":"")+(this.state.selectValue?"has-default-value ":""),children:[(0,x.jsx)("div",{className:"label",children:t.model.title}),(0,x.jsx)("input",{type:"button",value:this.state.selectValue?this.state.selectValue:l,className:"dropdown-btn"})]}),(0,x.jsx)("i",{className:"icon icon-arrow-down"})]}),(0,x.jsxs)("ul",{className:"dropdown-list",hidden:!this.state.showDroplist,children:[e.model.showEmptyItem&&(0,x.jsxs)("li",{className:"hidden-option",value:"",onClick:this.onChangeSelection,children:[(0,x.jsx)("i",{className:"icon icon-check"}),""]}),e.model.items&&e.model.items.map((e,t)=>(0,x.jsxs)("li",{className:e.selected?"active":"",value:e.value,onClick:this.onChangeSelection,children:[(0,x.jsx)("i",{className:"icon icon-check"}),e.text]},e.value+t))]})]})})]})}else if(e.model.fieldTypeItemId===i.FieldTypes.ListBox){o=e.model.conditionSettings.fieldKey,r=e.model.conditionSettings.fieldConditions,n=JSON.stringify(r);let t=!1;/required/g.test(e.model.cssClass)&&(t=!0),a=(0,x.jsxs)("div",{className:"form-group form-listbox "+(t?"form-required is-to-validate":""),"data-fieldkey":o,"data-fieldcondition":n,children:[this.props.children,t&&(0,x.jsx)("div",{className:"form-control-validation-required",children:(0,x.jsx)("span",{children:(0,x.jsxs)("label",{children:[e.model.title?e.model.title:e.model.name," is required"]})})}),(0,x.jsxs)("div",{className:"hint",children:["*Tip: Hold the ",(0,x.jsx)("b",{children:"Ctrl"})," (Windows) or ",(0,x.jsx)("b",{children:"Command"})," (Mac) key down while selecting multiple items."]})]})}else if(e.model.fieldTypeItemId===p.sK.RECAPTCHA)if(s){o=e.model.conditionSettings.fieldKey;let i=e.model.required,s=e.valueField.id,r=e.valueField.name;a=(0,x.jsxs)("div",{className:"form-group form-recaptcha"+(i?" form-required":"")+(t?" verifiedRecaptcha":" is-invalid")+(l?" is-required":""),"data-fieldkey":o,"data-fieldcondition":"",children:[(0,x.jsx)("input",{type:"hidden",id:s,name:r,class:"fxt-captcha","data-val-required":"Please confirm you are not a robot.","data-val":"true",value:this.state.captchaValue}),(0,x.jsx)(m.A,{size:"normal",sitekey:e.model.captchaPublicKey?e.model.captchaPublicKey:"6LeqAfYUAAAAAGK1oZ1NzfVUFeC4kqJOe16XklGg",onChange:this.recaptchaVerifyResponse,onExpired:this.recaptchaExpired,asyncScriptOnLoad:this.recaptchaLoaded}),(0,x.jsx)("div",{className:"form-control-validation",children:(0,x.jsx)("span",{children:(0,x.jsx)("label",{children:"ReCaptcha is required"})})})]})}else a="";else e.model.fieldTypeItemId===i.FieldTypes.Button?(o=e.model.conditionSettings.fieldKey,a=(0,x.jsx)("div",{className:"custom-form-button","data-fieldkey":o,children:(0,x.jsx)("button",{type:"button",className:"customform-submit-btn",value:e.model.title?e.model.title:e.model.name,name:e.buttonField.name,id:e.buttonField.name,onClick:this.handleSubmit,children:e.model.title?e.model.title:e.model.name})})):a=(0,x.jsx)("div",{className:"form-group","data-fieldkey":o,children:this.props.children});else o=e.model.conditionSettings.fieldKey,a=(0,x.jsx)("div",{className:"form-element","data-fieldkey":o,children:this.props.children});return a}}const b=e=>(0,x.jsx)("div",{className:"invalid-form",children:e.formErrors.map((e,t)=>(0,x.jsxs)("span",{children:[(0,x.jsx)("i",{className:"icon icon-danger",children:"!"}),(0,x.jsx)("label",{children:e})]},`formError-${t}`))}),A=e=>(0,x.jsx)("div",{className:"form-control-validation",children:e.errors.map((e,t)=>(0,x.jsxs)("span",{children:[(0,x.jsx)("i",{className:"icon icon-danger",children:"!"}),(0,x.jsx)("label",{children:e})]},`fieldFormError-${t}`))}),C=(e,t)=>fetch(t,{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toUrlEncodedFormData()}).then(async e=>{if(200!=e.status){let e=t.indexOf("/api"),l=document.querySelector("form[action='"+t+"']"),i=document.querySelector("form[action='"+t.substring(e)+"']"),s=l||i;if(s){let e=s.querySelector(".is-invalid"),t=s.querySelector(".form-group label.invalid"),l=s.querySelector("button.customform-submit-btn");if(e&&t){e.getBoundingClientRect().top<t.getBoundingClientRect().top?e.scrollIntoView():t.scrollIntoView()}else e?e.scrollIntoView():t&&t.scrollIntoView();l.removeAttribute("disabled")}}let l=await e.json();return l.success&&l.newTabUrl&&window.open(l.newTabUrl,"_self"),l}).catch(e=>(console.log(e),{success:!1,error:"Something went wrong. Error was thrown when submit form"})),E=e=>{let t=e,l=[];return e.fields[0].fields?l=e.fields[0].fields:e.fields&&(l=e.fields),l.length>0&&l.map((e,t)=>{if(e.model.fieldTypeItemId===i.FieldTypes.RadioButtonList){if(/required/g.test(e.model.cssClass)){let t=!1;if(e.model.items.map((l,i)=>{const{itemId:s=null}=l||{};s==e.model.name&&(t=!0)}),!t){let t={itemId:e.model.name,selected:!1,text:"",value:""};e.model.items.push(t)}}}else if(e.model.fieldTypeItemId===i.FieldTypes.ListBox){if(/required/g.test(e.model.cssClass)){let t=!1;if(e.model.items.map((l,i)=>{const{itemId:s=null}=l||{};s==e.model.name&&(t=!0)}),!t){let t={itemId:e.model.name,selected:!1,text:"",value:""};e.model.items.unshift(t)}}}else e.model.fieldTypeItemId===i.FieldTypes.DropdownList&&(e.model.showEmptyItem=!0)}),t};var N=l(98558);class k extends s.Component{constructor(e){super(e),this.state={}}render(){const{fields:e,history:t,sitecoreContext:l}=this.props,{RemoveDefaultMargin:s=""}=this.props.params||{},{ApplySmallMargin:a=""}=this.props.params||{},n=s&&"1"===s?"":a&&"1"===a?"small":"standard";let d="";if(l&&l.formInfo){const{formExpired:e,formExpiredMessage:t,formLimitReached:i,formLimitReachedMessage:s}=l.formInfo;e&&i||e?d=t:i&&(d=s)}return(0,x.jsx)("div",{className:"custom-form-container",children:e&&(0,x.jsx)(r.A,{margin:n,children:(0,x.jsx)("div",{className:"custom-form",id:"js-custom-form",children:d?(0,x.jsx)("h2",{children:d}):(0,x.jsx)(i.Form,{form:E(e),sitecoreApiHost:o.sitecoreApiHost,sitecoreApiKey:o.sitecoreApiKey,onRedirect:e=>t.push(e),fieldWrapperComponent:S,errorComponent:b,fieldValidationErrorsComponent:A,formFetcher:C})})})})}}const L=(0,N.withSitecoreContext)()((0,a.A)(k))}}]);
//# sourceMappingURL=Form.44f70e77.chunk.js.map